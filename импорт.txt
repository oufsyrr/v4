Как импортировать много строк в таблицу PostgreSQL из файла CSV
Шаг 1. Подготовьте файл CSV с данными
Создайте файл с расширением .csv, например, partners.csv, и заполните его данными. Формат файла:

Каждая строка — одна запись
Значения разделены запятыми (или точкой с запятой, если так удобнее)
В первой строке — заголовки столбцов (опционально, если используете команду COPY с опцией HEADER)
Пример файла partners.csv:

csv
Копировать код
type_company,name,address,inn,director_name,tel,email
ООО,Партнер 1,г.Москва,1234567890,Иванов Иван Иванович,89991234567,partner1@example.com
ИП,Партнер 2,г.Санкт-Петербург,0987654321,Петров Петр Петрович,89997654321,partner2@example.com
...
Шаг 2. Поместите файл на сервер или в доступное место
Если у вас локальный сервер PostgreSQL — разместите файл рядом или запомните путь к нему.

Шаг 3. Выполните команду импорта
Откройте командную строку или терминал и выполните команду:

bash
Копировать код
psql -U ваш_пользователь -d comfort_db -c "\copy partners(type_company,name,address,inn,director_name,tel,email) FROM 'путь/к/файлу/partners.csv' WITH (FORMAT csv, HEADER true)"
Объяснение:

-U ваш_пользователь — ваше имя пользователя PostgreSQL
-d comfort_db — название базы данных
\copy — команда внутри psql для импорта из файла (использует клиента psql)
'путь/к/файлу/partners.csv' — полный путь к вашему файлу CSV
WITH (FORMAT csv, HEADER true) — указывает формат и что первая строка содержит заголовки
Альтернативный способ: использовать SQL-команду COPY внутри psql
Если вы подключены к базе через psql:

sql
Копировать код
COPY partners(type_company,name,address,inn,director_name,tel,email)
FROM '/полный/путь/к/partners.csv'
WITH (FORMAT csv, HEADER true);
Обратите внимание: для этого у пользователя должны быть права на выполнение команды COPY с файлом.

Важные моменты
Убедитесь, что структура таблицы совпадает с данными в CSV.
Если данные очень большие — используйте команду COPY, она быстрее.
Перед импортом рекомендуется сделать резервную копию таблицы или базы.
Если нужно подготовить файл CSV или есть вопросы по пути к файлу — пишите!